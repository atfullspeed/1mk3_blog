.speech { display:flex; gap:12px; align-items:flex-start; margin:1rem 0; }
.speech.right { flex-direction: row-reverse; }
.speech .avatar { width:84px; height:auto; border-radius:12px; flex:0 0 auto; }

.speech .bubble {
  --accent: var(--border);     /* デフォは地味色 */
  --fill: var(--surface);      /* テーマで切り替わる */
  color: var(--text);
  position: relative;
  max-width: min(720px, 100%);
  padding: .75rem 1rem;
  border: 2px solid var(--accent);
  border-radius: 12px;
  background: var(--fill);
  line-height: 1.7;
  word-break: break-word;
}

/* しっぽ（左） */
.speech.left .bubble::before,
.speech.left .bubble::after {
  content:""; position:absolute; top:18px; left:-10px;
  border-style:solid; border-width:8px 10px 8px 0;
}
.speech.left .bubble::before { border-color: transparent var(--accent) transparent transparent; left:-12px; }
.speech.left .bubble::after  { border-color: transparent var(--fill)   transparent transparent; }

/* しっぽ（右） */
.speech.right .bubble::before,
.speech.right .bubble::after {
  content:""; position:absolute; top:18px; right:-10px;
  border-style:solid; border-width:8px 0 8px 10px;
}
.speech.right .bubble::before { border-color: transparent transparent transparent var(--accent); right:-12px; }
.speech.right .bubble::after  { border-color: transparent transparent transparent var(--fill); }

/* 双子の色はクラスで差し替え */
.speech.yura .bubble { --accent: var(--accent-red); }
.speech.sie  .bubble { --accent: var(--accent-blue); }